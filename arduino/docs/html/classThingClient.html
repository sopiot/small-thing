<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CAPITAL: ThingClient Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CAPITAL
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classThingClient-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ThingClient Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class for communication between thing and gateway.  
 <a href="classThingClient.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="thing__client_8h_source.html">thing_client.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a771f683ab76f89a2b22c85a5647df1e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThingClient.html#a771f683ab76f89a2b22c85a5647df1e3">ThingClient</a> (const char *id, Stream &amp;serial)</td></tr>
<tr class="separator:a771f683ab76f89a2b22c85a5647df1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f21f41869c7b1e01c62ef7939b247b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f21f41869c7b1e01c62ef7939b247b5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Add</b> (<a class="el" href="classCapitalValue.html">CapitalValue</a> &amp;v)</td></tr>
<tr class="separator:a4f21f41869c7b1e01c62ef7939b247b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2f23f07a087ef56bd57cdf77bac9b4f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2f23f07a087ef56bd57cdf77bac9b4f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Add</b> (<a class="el" href="classCapitalFunction.html">CapitalFunction</a> &amp;f)</td></tr>
<tr class="separator:ab2f23f07a087ef56bd57cdf77bac9b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedab0c0ee3c96530eb6beed1f2a459b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThingClient.html#aedab0c0ee3c96530eb6beed1f2a459b6">set_serial</a> (Stream &amp;serial)</td></tr>
<tr class="separator:aedab0c0ee3c96530eb6beed1f2a459b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfe83248b51bbbf484d19c11e8202a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThingClient.html#afbfe83248b51bbbf484d19c11e8202a7">set_connect_handler</a> (void(*connectHandler)())</td></tr>
<tr class="separator:afbfe83248b51bbbf484d19c11e8202a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598656f81507d9e295149379a06d6cbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThingClient.html#a598656f81507d9e295149379a06d6cbc">set_disconnect_handler</a> (void(*disconnectHandler)())</td></tr>
<tr class="separator:a598656f81507d9e295149379a06d6cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c3913c2a50be164e9a239d1ac42363"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61c3913c2a50be164e9a239d1ac42363"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_client_id</b> (const char *id)</td></tr>
<tr class="separator:a61c3913c2a50be164e9a239d1ac42363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9afef6f565bd4277939406ef6a324bfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThingClient.html#a9afef6f565bd4277939406ef6a324bfe">Setting</a> ()</td></tr>
<tr class="separator:a9afef6f565bd4277939406ef6a324bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27695ee5231952c6aa1d9431b1ea884d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThingClient.html#a27695ee5231952c6aa1d9431b1ea884d">DoLoop</a> (int pub_period=100)</td></tr>
<tr class="separator:a27695ee5231952c6aa1d9431b1ea884d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7c3221f6d72ce2e47a783a0815171345"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c3221f6d72ce2e47a783a0815171345"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>pingreqHandler</b> ()</td></tr>
<tr class="separator:a7c3221f6d72ce2e47a783a0815171345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ab103343209f93a0cbeab0d5761a1c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4ab103343209f93a0cbeab0d5761a1c"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>pingrespHandler</b> ()</td></tr>
<tr class="separator:ac4ab103343209f93a0cbeab0d5761a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66bac1316dfe88086278835cca1e1d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac66bac1316dfe88086278835cca1e1d2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>subackHandler</b> (const <a class="el" href="structmsg__suback.html">msg_suback</a> *msg)</td></tr>
<tr class="separator:ac66bac1316dfe88086278835cca1e1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab807f216f8c25cd40800959ebec71dab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab807f216f8c25cd40800959ebec71dab"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>disconnectHandler</b> (const <a class="el" href="structmsg__disconnect.html">msg_disconnect</a> *msg)</td></tr>
<tr class="separator:ab807f216f8c25cd40800959ebec71dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8bc8252846e50800c5dc0543e7b0309"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8bc8252846e50800c5dc0543e7b0309"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>regack</b> (const uint16_t topicId, const uint16_t messageId, const return_code_t return_code)</td></tr>
<tr class="separator:ab8bc8252846e50800c5dc0543e7b0309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca0d151dc7fafd12c564810a4a57d353"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca0d151dc7fafd12c564810a4a57d353"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>puback</b> (const uint16_t topicId, const uint16_t messageId, const return_code_t return_code)</td></tr>
<tr class="separator:aca0d151dc7fafd12c564810a4a57d353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672b424a4c7db25c6c9c851ab65688a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a672b424a4c7db25c6c9c851ab65688a3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>subscribe</b> (const uint8_t flags, const uint16_t topicId)</td></tr>
<tr class="separator:a672b424a4c7db25c6c9c851ab65688a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c0f6a25ffa7b1cfa5c17b82a4b1125b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c0f6a25ffa7b1cfa5c17b82a4b1125b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unsubscribe</b> (const uint8_t flags, const uint16_t topicId)</td></tr>
<tr class="separator:a3c0f6a25ffa7b1cfa5c17b82a4b1125b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2105ce5421f8859664cac4b32e6478"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b2105ce5421f8859664cac4b32e6478"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>devregHandler</b> ()</td></tr>
<tr class="separator:a0b2105ce5421f8859664cac4b32e6478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad627f7e69476311017ef903144d6a505"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad627f7e69476311017ef903144d6a505"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>devregackHandler</b> (const <a class="el" href="structmsg__devregack.html">msg_devregack</a> *msg)</td></tr>
<tr class="separator:ad627f7e69476311017ef903144d6a505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08b89371ea7017864a53e4973109a178"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08b89371ea7017864a53e4973109a178"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>regackHandler</b> (const <a class="el" href="structmsg__regack.html">msg_regack</a> *msg)</td></tr>
<tr class="separator:a08b89371ea7017864a53e4973109a178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc74fdf4e099d0e9bb8ca4b5c431b11a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acc74fdf4e099d0e9bb8ca4b5c431b11a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>publishHandler</b> (const <a class="el" href="structmsg__publish.html">msg_publish</a> *msg)</td></tr>
<tr class="separator:acc74fdf4e099d0e9bb8ca4b5c431b11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99dbe36483893c9c68533f1f6f037ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa99dbe36483893c9c68533f1f6f037ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>advertiseHandler</b> (const <a class="el" href="structmsg__advertise.html">msg_advertise</a> *msg)</td></tr>
<tr class="separator:aa99dbe36483893c9c68533f1f6f037ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2080616403d90b82f2ccf64198c8c156"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2080616403d90b82f2ccf64198c8c156"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>gwinfoHandler</b> (const <a class="el" href="structmsg__gwinfo.html">msg_gwinfo</a> *msg)</td></tr>
<tr class="separator:a2080616403d90b82f2ccf64198c8c156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a460a7dc9e59e39fe6e3c25b742281a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a460a7dc9e59e39fe6e3c25b742281a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>connackHandler</b> (const <a class="el" href="structmsg__connack.html">msg_connack</a> *msg)</td></tr>
<tr class="separator:a6a460a7dc9e59e39fe6e3c25b742281a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class for communication between thing and gateway. </p>
<p>A programmer should declare this class and set id, set serial, add values and functions. then call .Setting on setting tab, and Publish in loop(). it acts like as a bridge between thing and middleware. it is very similar to the Class Client in thing_client. please refer that documentation. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a771f683ab76f89a2b22c85a5647df1e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ThingClient::ThingClient </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Stream &amp;&#160;</td>
          <td class="paramname"><em>serial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>programmer can easily set client id and zigbee serial with this constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a27695ee5231952c6aa1d9431b1ea884d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThingClient::DoLoop </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pub_period</em> = <code>100</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call it in the loop() tab on Arduino IDE Environment. </p>

</div>
</div>
<a class="anchor" id="afbfe83248b51bbbf484d19c11e8202a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThingClient::set_connect_handler </td>
          <td>(</td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>connectHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set function that acts when arduino connects to the gateway </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connectHandler</td><td>the void function that programmer wants to activate when arduino connects to the gateway. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a598656f81507d9e295149379a06d6cbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThingClient::set_disconnect_handler </td>
          <td>(</td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>disconnectHandler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set function that acts when arduino disconnects from the gateway </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">disconnectHandler</td><td>the void function that programmer wants to activate when arduino disconnects from the gateway. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aedab0c0ee3c96530eb6beed1f2a459b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThingClient::set_serial </td>
          <td>(</td>
          <td class="paramtype">Stream &amp;&#160;</td>
          <td class="paramname"><em>serial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>set serial that connected to the zigbee output and input </p>

</div>
</div>
<a class="anchor" id="a9afef6f565bd4277939406ef6a324bfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThingClient::Setting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Call it after setting serial, setting client id, and Adding every function and value. Do not forget call this function after (zigbee serial).begin(9600)! it should be called in the setting() tab on Arduino IDE Environment. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="thing__client_8h_source.html">thing_client.h</a></li>
<li>thing_client.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jun 22 2016 15:26:28 for CAPITAL by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
